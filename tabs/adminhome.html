<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css">
    <!-- <script src="https://kit.fontawesome.com/c153436894.js" crossorigin="anonymous"></script> -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://kit.fontawesome.com/c153436894.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" type="text/css" href="Asset/css/adminhome.css">
    <title>Admin Page</title>
</head>

<body>
    <div class="main d-flex">
        <div class="sidebar">
            <ul class="nav flex-column align-items-center ">
                <li class="nav-item w-100 px-1">
                    <button class="btn my-2 my-sm-0 Login p-1 w-100" id="HomePage"><i class="fa-solid fa-house"></i>
                        Home</button>
                </li>
                <li class="nav-item w-100 px-1">
                    <button class="btn my-2 my-sm-0 Login p-1 w-100" id="Teacher">Add Teacher</button>
                </li>
                <li class="nav-item w-100 px-1">
                    <button class="btn my-2 my-sm-0 Login p-1 w-100" id="UpdateTeacher">Update Teacher</button>
                </li>
                <li class="nav-item w-100 px-1">
                    <button class="btn my-2 my-sm-0 Login p-1 w-100" id="ApproveStudent">Approve Student</button>
                </li>
            </ul>
        </div>
        <div class="align-items-center d-flex justify-content-center mainbody" id="mainbody">
            <div id="teacher" class="teacher d-none p-2">
                <form action="" method="post">
                    <h2>Add Teacher</h2>
                    <hr class="dashed">
                    <div class="d-flex justify-content-around flex-wrap py-1">
                        <div>
                            <span id="felidname" class="spanfiled">Name</span>
                            <input type="text" name="name" id="name" class="form-control" placeholder="name"
                                aria-label="Enter name">
                        </div>

                        <div>
                            <span id="felidDepartement" class="spanfiled">Departement</span>
                            <input type="text" name="Departement" id="Departement" class="form-control"
                                placeholder="Departement" aria-label="Enter Departement">
                        </div>
                    </div>
                    <div class="d-flex justify-content-around flex-wrap py-1">
                        <div>
                            <span id="felidSubject" class="spanfiled">Subject</span>
                            <input type="text" name="Subject" id="Subject" class="form-control" placeholder="Subject"
                                aria-label="Enter Subject">
                        </div>

                        <div>
                            <span id="felidID" class="spanfiled">ID</span>
                            <input type="text" name="ID" id="ID" class="form-control" placeholder="id"
                                aria-label="Enter id">
                        </div>
                    </div>
                    <div class="d-flex justify-content-around flex-wrap py-1">
                        <div>
                            <span id="felidPhone_no" class="spanfiled">Phone no.</span>
                            <input type="number" maxlength="10" minlength="10" name="Phone_no" id="Phone_no"
                                class="form-control" placeholder="Phone no." aria-label="Enter Phone no.">
                        </div>

                        <div>
                            <span id="felidaddress" class="spanfiled">Address</span>
                            <input type="text" name="Address" id="address" class="form-control" placeholder="address"
                                aria-label="Enter Address">
                        </div>
                    </div>
                    <div class="d-flex py-1 justify-content-center">
                        <button class="btn btn-dark" type="submit">Submit</button>
                    </div>
                </form>
            </div>
            <div id="updateteacher" class="updateteacher  d-none flex-wrap">
                <div class="utcard  p-2 rounded col-sm-3">
                    <div class="p-1 rounded bcblack col-sm-12">
                        <div onclick="CardContain(this)"
                            class="d-flex flex-column bcwhite justify-content-between col-sm-12 ffserif">
                            <div class="d-flex p-1 col-sm-12">
                                <div>Name: </div>
                                <div>
                                    <NameOfTecaher> khizar2922</NameOfTecaher>
                                </div>
                            </div>
                            <div class="d-flex p-1 col-sm-12">
                                <div>Id :</div>
                                <div>
                                    <IdOfTeacher>id213456</IdOfTeacher>
                                </div>
                            </div>
                            <div class="d-flex p-1 col-sm-12">
                                <div>D.T :</div>
                                <div>
                                    <NameOfDepartment>secondary</NameOfDepartment>
                                </div>
                            </div>
                            <div class="d-flex p-1 col-sm-12">
                                <div>Subject :</div>
                                <div>Maths</div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="utcard  p-2 rounded col-sm-3">
                    <div class="p-1 rounded bcblack col-sm-12">
                        <div onclick="CardContain(this)"
                            class="d-flex flex-column bcwhite justify-content-between col-sm-12 ffserif">
                            <div class="d-flex p-1 col-sm-12">
                                <div>Name: </div>
                                <div>
                                    <NameOfTecaher> Parth Sir</NameOfTecaher>
                                </div>
                            </div>
                            <div class="d-flex p-1 col-sm-12">
                                <div>Id :</div>
                                <div>
                                    <IdOfTeacher>id213456</IdOfTeacher>
                                </div>
                            </div>
                            <div class="d-flex p-1 col-sm-12">
                                <div>D.T :</div>
                                <div>
                                    <NameOfDepartment>secondary</NameOfDepartment>
                                </div>
                            </div>
                            <div class="d-flex p-1 col-sm-12">
                                <div>Subject :</div>
                                <div>Maths</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div id="approvestudent" class="approvestudent justify-content-around col-sm-12 d-flex flex-wrap">
                <!-- <div class="0 studentcard col-sm-4 p-2 .position-relative" id="abc" onclick='popup(this)'>
                    <input class="form-check-input position-absolute Pr " type="checkbox" value="" id="0check" checked>
                    <div class="outer-body p-1">
                        <div class="row1">
                            <div class="main-body flex-wrap d-flex">
                                <div class="d-flex name-body align-items-center">
                                    <div class="StdHeading pl-1">Name:</div>
                                    <div class="StdVal pl-1">Khizar Shaikh</div>
                                </div>
                                <div class="roll-body d-flex align-items-center">
                                    <div class="StdHeading pl-1">RollNo.</div>
                                    <div class="StdVal pl-1">FS19IF034</div>
                                </div>
                            </div>
                        </div>
                        <div class="row2">
                            <div class="main-body flex-wrap d-flex">
                                <div class="d-flex dob-body align-items-center">
                                    <div class="StdHeading pl-1">Dob :-</div>
                                    <div class="StdVal pl-1">29-04-2003</div>
                                </div>
                                <div class="blood-body d-flex align-items-center">
                                    <div class="StdHeading pl-1">Blood group:</div>
                                    <div class="StdVal pl-1">B+</div>
                                </div>
                            </div>
                        </div>
                        <div class="row3">
                            <div class="main-body flex-wrap d-flex">
                                <div class="d-flex w-100 dob-body">
                                    <div class="StdHeading pl-1">Address:</div>
                                    <div class="StdVal pl-1">Malad West Mumbai 95</div>
                                </div>
                            </div>
                        </div>
                        <div class="row4">
                            <div class="main-body flex-wrap d-flex">
                                <div class="d-flex dob-body align-items-center">
                                    <div class="StdHeading pl-1">Phone no :</div>
                                    <div class="StdVal pl-1">8828045311</div>
                                </div>
                                <div class="d-flex dob-body align-items-center">
                                    <div class="StdHeading pl-1">DOI :</div>
                                    <div class="StdVal pl-1">16/05/2022</div>
                                </div>
                            </div>
                        </div>
                        <div class="row5">
                            <div class="main-body flex-wrap d-flex">
                                <div class="d-flex dob-body align-items-center">
                                    <div class="StdHeading pl-1">Email :</div>
                                    <div class="StdVal pl-1">khizarshiakh2922@gmail.com</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="0 studentcard col-sm-4 p-2 .position-relative" id="abc" onclick='popup(this)'>
                    <input class="form-check-input position-absolute Pr " type="checkbox" value="" id="0check" checked>
                    <div class="outer-body p-1">
                        <div class="row1">
                            <div class="main-body flex-wrap d-flex">
                                <div class="d-flex name-body align-items-center">
                                    <div class="StdHeading pl-1">Name:</div>
                                    <div class="StdVal pl-1">Khizar Shaikh</div>
                                </div>
                                <div class="roll-body d-flex align-items-center">
                                    <div class="StdHeading pl-1">RollNo.</div>
                                    <div class="StdVal pl-1">FS19IF034</div>
                                </div>
                            </div>
                        </div>
                        <div class="row2">
                            <div class="main-body flex-wrap d-flex">
                                <div class="d-flex dob-body align-items-center">
                                    <div class="StdHeading pl-1">Dob :-</div>
                                    <div class="StdVal pl-1">29-04-2003</div>
                                </div>
                                <div class="blood-body d-flex align-items-center">
                                    <div class="StdHeading pl-1">Blood group:</div>
                                    <div class="StdVal pl-1">B+</div>
                                </div>
                            </div>
                        </div>
                        <div class="row3">
                            <div class="main-body flex-wrap d-flex">
                                <div class="d-flex w-100 dob-body">
                                    <div class="StdHeading pl-1">Address:</div>
                                    <div class="StdVal pl-1">Malad West Mumbai 95</div>
                                </div>
                            </div>
                        </div>
                        <div class="row4">
                            <div class="main-body flex-wrap d-flex">
                                <div class="d-flex dob-body align-items-center">
                                    <div class="StdHeading pl-1">Phone no :</div>
                                    <div class="StdVal pl-1">8828045311</div>
                                </div>
                                <div class="d-flex dob-body align-items-center">
                                    <div class="StdHeading pl-1">DOI :</div>
                                    <div class="StdVal pl-1">16/05/2022</div>
                                </div>
                            </div>
                        </div>
                        <div class="row5">
                            <div class="main-body flex-wrap d-flex">
                                <div class="d-flex dob-body align-items-center">
                                    <div class="StdHeading pl-1">Email :</div>
                                    <div class="StdVal pl-1">khizarshiakh2922@gmail.com</div>
                                </div>
                            </div>
                        </div>
                    </div>
                 </div>
                 <div class="col-sm-12 d-flex justify-content-center">
                    <div class="btn-primary btn" id="AddStudent">
                       Add Student
                   </div>
                </div> -->
            </div>
        </div>


        <!-- Button trigger modal -->
        <!-- <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal">
                Launch demo modal
            </button> -->

        <!-- Modal -->
        <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
            aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLongTitle">Khizar (teacher)</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">


                        <div class="d-flex justify-content-around flex-wrap py-1">
                            <div>
                                <span id="felidname" class="spanfiled">Name</span>
                                <input type="text" name="name" id="updatename" class="form-control" placeholder="name"
                                    aria-label="Enter name">
                            </div>

                            <div>
                                <span id="felidDepartement" class="spanfiled">Departement</span>
                                <input type="text" name="Departement" id="updateDepartement" class="form-control"
                                    placeholder="Departement" aria-label="Enter Departement">
                            </div>
                        </div>
                        <div class="d-flex justify-content-around flex-wrap py-1">
                            <div>
                                <span id="felidSubject" class="spanfiled">Subject</span>
                                <input type="text" name="Subject" id="updateSubject" class="form-control"
                                    placeholder="Subject" aria-label="Enter Subject">
                            </div>

                            <div>
                                <span id="felidID" class="spanfiled">ID</span>
                                <input type="text" name="ID" id="updateID" class="form-control" placeholder="id"
                                    aria-label="Enter id">
                            </div>
                        </div>
                        <div class="d-flex justify-content-around flex-wrap py-1">
                            <div>
                                <span id="felidPhone_no" class="spanfiled">Phone no.</span>
                                <input type="number" maxlength="10" minlength="10" name="Phone_no" id="Phone_no"
                                    class="form-control" placeholder="Phone no." aria-label="Enter Phone no.">
                            </div>

                            <div>
                                <span id="felidaddress" class="spanfiled">Address</span>
                                <input type="text" name="Address" id="updateaddress" class="form-control"
                                    placeholder="address" aria-label="Enter Address">
                            </div>
                        </div>


                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                        <button type="button" id="modalbtn" class="btn btn-primary">Save changes</button>
                        <button type="button" id="modalbtndelete" class="btn btn-danger"
                            data-dismiss="modal">Delete</button>
                    </div>
                </div>
            </div>
        </div>

    </div>
    </div>
    <script>
        let addStudent = [],AllAddStudentData=[]
        function $1(param1) {
            return document.getElementById(param1)
        }
        $1("modalbtn").addEventListener("click", () => {
            console.log("a")
            $('#exampleModal').modal('hide');

        })
        $('#HomePage').click(() => {
            window.location.href = "/"
        })
        $("form").submit(function () {
            var name = document.getElementById("name")
            let Departement = document.getElementById("Departement")
            let Subject = document.getElementById("Subject")
            let ID = document.getElementById("ID")
            let Phone_no = document.getElementById("Phone_no")
            let address = document.getElementById("address")
            if (name.value == "") {
                $1("felidname").classList.add("error")
                name.classList.add("errorinput")
            } else {
                $1("felidname").classList.remove("error")
                name.classList.remove("errorinput")
            }
            if (Departement.value == "") {
                $1("felidDepartement").classList.add("error")
                Departement.classList.add("errorinput")
            } else {
                $1("felidDepartement").classList.remove("error")
                Departement.classList.remove("errorinput")
            }
            if (Subject.value == "") {
                $1("felidSubject").classList.add("error")
                Subject.classList.add("errorinput")
            } else {
                $1("felidSubject").classList.remove("error")
                Subject.classList.remove("errorinput")
            }
            if (ID.value == "") {
                $1("felidID").classList.add("error")
                ID.classList.add("errorinput")
            } else {
                $1("felidID").classList.remove("error")
                ID.classList.remove("errorinput")
            }
            if (Phone_no.value == '') {
                $1("felidPhone_no").classList.add("error")
                Phone_no.classList.add("errorinput")
            } else {
                $1("felidPhone_no").classList.remove("error")
                Phone_no.classList.remove("errorinput")
            }
            if (address.value == "") {
                $1("felidaddress").classList.add("error")
                address.classList.add("errorinput")
            } else {
                $1("felidaddress").classList.remove("error")
                address.classList.remove("errorinput")
            }
            return false
        });
        $('#Teacher').click(function () {
            $1("teacher").classList.remove("d-none")
            $1("updateteacher").classList.remove("d-flex")
            $1("updateteacher").classList.add("d-none")
            $1("approvestudent").classList.add("d-none")
            $1("approvestudent").classList.remove("d-flex")
        });
        $('#UpdateTeacher').click(function () {
            $1("teacher").classList.add("d-none")
            $1("updateteacher").classList.add("d-flex")
            $1("updateteacher").classList.remove("d-none")
            $1("approvestudent").classList.add("d-none")
            $1("approvestudent").classList.remove("d-flex")
        });
        $("#ApproveStudent").click(() => {
            addStudent = [],AllAddStudentData =[]
            $1("teacher").classList.add("d-none")
            $1("updateteacher").classList.add("d-none")
            $1("updateteacher").classList.remove("d-flex")
            $1("approvestudent").classList.remove("d-none")
            $1("approvestudent").classList.add("d-flex")
            
            $.get('http://localhost:4240/api/calldetails', function (data) {
                console.log(data, "this is " + data['length'])
                $1('approvestudent').innerHTML = ''
                let temp = 0,temp1;
                for (len in data) {
                    // console.log(data[len]['_id'], 'asda')
                    addToHtml(
                        data[len]['_id'],
                        data[len]['name'],
                        data[len]['dob'],
                        data[len]['bloodgr'],
                        data[len]['address'],
                        data[len]['Phone_no'],
                        data[len]['email'],
                        data[len]['rollno'],
                        temp)
                    temp++;
                    addStudent.push(data[len]['_id'])
                    AllAddStudentData.push(data[len])
                    console.log('AllAddStudentData',AllAddStudentData)
                }
            temp1 = `<div class="col-sm-12 d-flex justify-content-center">`
            temp1 += `<div class="btn-primary btn" onclick=sendarr() id="AddStudent">`
            temp1 += `Add Student`
            temp1 += `</div>`
            temp1 += `</div>`
            document.getElementById('approvestudent').innerHTML += temp1
            })
        })
        function CardContain(This) {
            $("#exampleModal").modal();
            // console.log(arguments[0])
            // alert("ed")
            // console.log(document.getElementsByTagName("NameOfTecaher")['0']['innerText'])
            console.log(This.getElementsByTagName("NameOfTecaher")[0]['innerText'])
        }
        function addToHtml(_id, name, dob, bloodgr, address, Phone_no, email, rollno, idNu) {
            let temp;
            temp = `<div class="${idNu} studentcard col-sm-4 p-2 position-relative" onclick='popup(this)' id=${_id}>`
            temp += `<input class="form-check-input position-absolute Pr " type="checkbox" value="" id="${idNu}check" checked>`
            temp += `<div class="outer-body p-1">`
            temp += `<div class="row1">`
            temp += `<div class="main-body flex-wrap d-flex">`
            temp += `<div class="d-flex name-body align-items-center">`
            temp += `<div class="StdHeading pl-1">Name:`
            temp += `</div>`
            temp += `<div class="StdVal pl-1">${name}`
            temp += `</div>`
            temp += `</div>`
            temp += `<div class="roll-body d-flex align-items-center">`
            temp += `<div class="StdHeading pl-1">RollNo.`
            temp += `</div>`
            temp += `<div class="StdVal pl-1">${rollno}`
            temp += `</div>`
            temp += `</div>`
            temp += `</div>`
            temp += `</div>`
            temp += `<div class="row2">`
            temp += `<div class="main-body flex-wrap d-flex">`
            temp += `<div class="d-flex dob-body align-items-center">`
            temp += `<div class="StdHeading pl-1">Dob :-`
            temp += `</div>`
            temp += `<div class="StdVal pl-1">${dob}`
            temp += `</div>`
            temp += `</div>`
            temp += `<div class="blood-body d-flex align-items-center">`
            temp += `<div class="StdHeading pl-1">Blood group:`
            temp += `</div>`
            temp += `<div class="StdVal pl-1">${bloodgr}`
            temp += `</div>`
            temp += `</div>`
            temp += `</div>`
            temp += `</div>`
            temp += `<div class="row3">`
            temp += `<div class="main-body flex-wrap d-flex">`
            temp += `<div class="d-flex w-100 dob-body">`
            temp += `<div class="StdHeading pl-1">Address:`
            temp += `</div>`
            temp += `<div class="StdVal pl-1">${address}`
            temp += `</div>`
            temp += `</div>`
            temp += `</div>`
            temp += `</div>`
            temp += `<div class="row4">`
            temp += `<div class="main-body flex-wrap d-flex">`
            temp += `<div class="d-flex dob-body align-items-center">`
            temp += `<div class="StdHeading pl-1">Phone no :`
            temp += `</div>`
            temp += `<div class="StdVal pl-1">${Phone_no}`
            temp += `</div>`
            temp += `</div>`
            temp += `<div class="d-flex dob-body align-items-center">`
            temp += `<div class="StdHeading pl-1">DOI :`
            temp += `</div>`
            temp += `<div class="StdVal pl-1">16/05/2022`
            temp += `</div>`
            temp += `</div>`
            temp += `</div>`
            temp += `</div>`
            temp += `<div class="row5">`
            temp += `<div class="main-body flex-wrap d-flex">`
            temp += `<div class="d-flex dob-body align-items-center">`
            temp += `<div class="StdHeading pl-1">Email :`
            temp += `</div>`
            temp += `<div class="StdVal pl-1">${email}`
            temp += `</div>`
            temp += `</div>`
            temp += `</div>`
            temp += `</div>`
            temp += `</div>`
            temp += `</div>`
            
            document.getElementById('approvestudent').innerHTML += temp
        }
        function popup(a) {
            // console.log(a.classList[0])
            let temp = document.getElementById(a.classList[0] + "check")
            // console.log(temp)
            if (temp.checked) {
                document.getElementById(a.classList[0] + "check").checked = false
                let temp2 = addStudent.indexOf(a.id)
                console.log('----->',temp2)
                addStudent.splice(temp2, 1)
            }
            else {
                addStudent.push(a.id)
                document.getElementById(a.classList[0] + "check").checked = true
            }
            console.log(addStudent)
        }
        function sendarr(){
            let temp=[];
            for(i in AllAddStudentData){
                for(y in addStudent){
                    if(AllAddStudentData[i]['_id'].includes(addStudent[y])){
                        temp.push(AllAddStudentData[i])
                        addStudent.splice(y,0)
                }
                    // console.log(AllAddStudentData)
                    // console.log('hi -->',AllAddStudentData[i]['_id'])
                }        
            }
            // console.log(temp)
            // console.log("press add",temp)
            temp = JSON.stringify(temp)
            $.get('http://localhost:4240/api/send?data='+temp, function (data) {
            console.log(data)
        })  
        }
    </script>
    <!-- <script src="https://code.jquery.com/jquery-3.2.1.min.js"
        integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
        crossorigin="anonymous"></script> -->
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"
        integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js"
        integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
        crossorigin="anonymous"></script>
</body>

</html>
<!--
    chicken tika khabus shawrma -3(amir,suraj,parth)116
    rumali -3(summit,mayur(veed-mayur),pooja(sidhi-pooja))116
    khabus -3(me,trushali)89
op 137
348 
348
178
696
khizar2922
-->